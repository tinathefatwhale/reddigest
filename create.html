<html>
<head>
	<link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Reddigest: Create An Account</title>
	<script>
		function usernamechecker(){
			if(!$('#uname').val()){
				$('#usernamecheck').addClass('has-error');
			    		$('#usernamecheckerror').show();
			}
			else{
				$.ajax({
				    data: {"username": $('#uname').val(),},
				    url: 'exists.php',
				    method: "POST",
				    dataType: 'json',
				    beforeSend:function(){
				    	$('#usernamecheck').addClass('has-warning').removeClass('has-error');
				    	$('#usernamecheckerror').addClass('glyphicon-refresh').removeClass('glyphicon-remove glyphicon-ok');
				    },
				    success: function(data){
				    	if(data.available === "true"){
				    		$('#usernamecheck').addClass('has-success').removeClass('has-error has-warning');
				    		$('#usernamecheckerror').addClass('glyphicon-ok').removeClass('glyphicon-remove glyphicon-refresh');
				    	}
				    	else{
				    		$('#usernamecheck').addClass('has-error').removeClass('has-warning');
				    		$('#usernamecheckerror').show().addClass('glyphicon-remove').removeClass('glyphicon-refresh glyphicon-ok');
				    	}
					}
				});
			}
		}
	</script>
</head>
<body>

<div class='jumbotron' id='thestuff'>
		<h1>&emsp;Create an account <img src="http://i.imgur.com/QJ41dQb.png" style='width: 50px;height: 50px; vertical-align: middle;'></img><h1>
	</div>
	<br>
	<div class="container">
		<div class="well well-lg">
			<form role="form">
				<div id="usernamecheck" class="form-group has-feedback">
					<label for='uname'>username</label>
					<input type='text' id='uname' onfocus="usernamechecker()" onkeyup='usernamechecker()' onkeydown='usernamechecker()' name='uname' class='form-control' autofocus><span class="glyphicon glyphicon-remove form-control-feedback" style='display: none;' id='usernamecheckerror'></span>
				</div>
				<div class="form-group">
					<label for='fname'>first name</label>
					<input type='text' name='fname' class='form-control'>
				</div>
				<div class="form-group">
					<label for='lname'>last name</label>
					<input type='text' name='lname' class='form-control'>
				</div>
				<div class="form-group">
					<label for='email'>email</label>
					<input type='email' name='email' class='form-control'>
				</div>
			</form>
		</div>
	</div>
</body>
</html>